CREATE TABLE data.account (
	account_id bigint NOT NULL generated always as identity,
	record_type character varying(15),
	client_id integer ,	
	issuer_account_id varchar(30) NULL,
	original_account_id varchar(30) NULL, 
	product_id smallint NULL,
	portfolio_id integer NULL,
	charge_off_reason_id smallint NULL,
	agency_id integer NULL,
	cancelled_code varchar(10) NULL,
	dt_cancellation date NULL,
	dt_original_accnt_open date NULL,
	reward_code smallint NULL,
	dt_last_charge_activity date NULL,
	pct_charge_off_interest numeric(6,3) NULL,
	agency_acct_id varchar(30) NULL,
	original_lender_creditor varchar(50) NULL,
	current_lender_creditor varchar(50) NULL,
	do_not_contact_indicator varchar(10) NULL,
	cycle_cut smallint NULL,
	dt_last_payment date NULL,
	dt_last_zero_bal date NULL,
	customer_type varchar(2) NULL,
	dt_account_open date NULL,	
	amt_last_payment numeric(13,2) NULL,
	dt_assigned date NULL,
	dt_charge_off date NULL,
	amt_charge_off numeric(13,2) NULL,
	amt_charge_off_principal numeric(13,2) NULL,
	amt_charge_off_inerest numeric(13,2) NULL,
	amt_charge_off_latefee numeric(13,2) NULL,
	amt_charge_off_otherfee numeric(13,2) NULL,
	amt_charge_off_misc numeric(13,2) NULL,
	amt_charge_off_court_cost numeric(13,2) NULL,
	amt_charge_off_attorneyfee numeric(13,2) NULL,
	amt_post_charge_off_interest numeric(13,2) NULL,
	amt_post_charge_off_fees numeric(13,2) NULL,
	pct_post_charge_off_interestrate numeric(6,3) NULL,
	amt_assigned numeric(13,2) NULL,
	amt_principal_assigned numeric(13,2) NULL,
	amt_interest_assigned numeric(13,2) NULL,
	amt_latefee_assigned numeric(13,2) NULL,
	amt_otherfee_assigned numeric(13,2) NULL,
	amt_courtcost_assigned numeric(13,2) NULL,
	amt_attorneyfee_assigned numeric(13,2) NULL,
	dt_chargeoff_contact date NULL,
	dt_first_delinquency date NULL,
	dt_delinquency date NULL,
	dt_last_contact_pre_c_o date NULL,
	scra_status boolean NOT NULL DEFAULT false,
	military_status boolean NOT NULL DEFAULT false,
	cease_desist_flag boolean NOT NULL DEFAULT true,
	consent_flag boolean NOT NULL DEFAULT true,
	amt_post_chargeoff_unpaid_charges numeric(13,2) NULL,
	dt_hold_term date NULL,
	amt_monthly_payment_before_charge numeric(13,2) NULL,	
	is_enabled boolean NOT NULL DEFAULT true,   
    is_deleted boolean NOT NULL  DEFAULT false,
	record_status_id smallint , 
	dtm_utc_create timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    created_by character varying(50)  NOT NULL DEFAULT 'EQB Service',
	dtm_utc_update timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(50)  NOT NULL DEFAULT 'EQB Service',
	source_id smallint,	
	app_id smallint,
	ip_address inet,
	mac_address macaddr 
)
WITH (
    OIDS =TRUE
)
TABLESPACE vi_data; 
 
ALTER TABLE data.account ADD CONSTRAINT pk_data_account_id PRIMARY KEY (account_id) ; 
ALTER TABLE data.account ADD CONSTRAINT fk_data_account_agency_id FOREIGN KEY (agency_id) REFERENCES conf.agency(agency_id); 
ALTER TABLE data.account ADD CONSTRAINT fk_data_account_product_id FOREIGN KEY (product_id) REFERENCES conf.product(product_id); 
ALTER TABLE data.account ADD CONSTRAINT fk_data_account_charge_off_reason_id FOREIGN KEY (charge_off_reason_id) REFERENCES conf.charge_off_reason(charge_off_reason_id); 
ALTER TABLE data.account ADD CONSTRAINT fk_data_account_client_id FOREIGN KEY (client_id) REFERENCES conf.client(client_id); 
ALTER TABLE data.account ADD CONSTRAINT fk_data_account_portfolio_id FOREIGN KEY (portfolio_id) REFERENCES data.portfolio(portfolio_id);  